/*! For license information please see zyX-es6.js.LICENSE.txt */
var t={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r="zyx-ph";function i(t){return"<".concat(r," id='").concat(t,"'></").concat(r,">")}function o(t){var e=t.match(/id='(.*?)'/);return(null==e?void 0:e.length)>0?e[1]:null}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t){if("object"!=a(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}new RegExp("(".concat(i("\\d+"),")"),"g");var c=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.reactive=e,this.interp=n,this.mode=r||"text",this.activeDomNode=null},(e=[{key:"interprate",value:function(){return this.interp?this.interp(this.reactive.value):this.reactive.value}},{key:"createZyXHTMLReactiveNode",value:function(t,e,n){var r,i,o=this;if(n)r=function(){var t=o.interprate();if(null===t)return e.removeAttribute(n);e.setAttribute(n,t),"INPUT"===e.tagName&&(e.value=t,e.dispatchEvent(new Event("change")))},i=e,setTimeout(function(){return r()},0);else{if("text"===this.mode){var a=document.createTextNode("");e.replaceWith(a),i=a,r=function(){var t=o.interprate();a.textContent=t}}else"html"===this.mode&&(this.activeDomNode=e,i=e.parentElement,r=function(){var t=Xe(o.interprate());t?(o.activeDomNode.replaceWith(t),o.activeDomNode=t):o.activeDomNode.style.display="none"});r()}this.reactive.eventListeners?this.reactive.eventListeners.subscribe(r,i):this.reactive.subscribe(r,i)}}])&&u(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),s=Object.fromEntries(["focus","blur","click","dblclick","contextmenu","mousedown","mouseup","mouseover","mousemove","mouseout","mouseenter","mouseleave","wheel","scroll","submit","load","error","input","change","resize","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","dropzone","dropzoneenter","dropzoneleave","dropzoneover","dropzoneout","dropzoneenter","dropzoneleave","pointerdown","pointerup","pointermove","pointerover","pointerout","pointerenter","pointerleave","pointercancel","pointerlockchange","pointerlockerror","gotpointercapture","lostpointercapture","keydown","keypress","keyup"].map(function(t){return["zyx-".concat(t),function(e){var n=e.node,r=e.data,i=e.zyxhtml;try{n.addEventListener(t,function(t){var e=new Proxy(t,{get:function(e,r){return r in t?t[r]:"el"===r?n:"e"===r||"event"===r?t:r in i?i[r]:void 0}});return r(e)})}catch(e){console.error("Error adding event listener for [zyx-".concat(t,"]:"),{e,node:n,data:r,zyxhtml:i})}}]}));s["zyx-enter"]=function(t){var e=t.node,n=t.data,r=t.zyxhtml;e.addEventListener("keydown",function(t){"Enter"===t.key&&n(new Proxy(t,{get:function(e,n){return"e"===n||"event"===n?t:n in r?r[n]:void 0}}))})};var f=Object.fromEntries(["up","down","move","over","out","enter","leave","contextmenu","wheel"].map(function(t){return["zyx-mice".concat(t),function(e){var n=e.node,r=e.data,i=e.zyxhtml;try{n.addEventListener("pointer".concat(t),function(t){if("touch"!==t.pointerType){var e=new Proxy(t,{get:function(e,r){return r in t?t[r]:"el"===r?n:"e"===r||"event"===r?t:r in i?i[r]:void 0}});return r(e)}})}catch(e){console.error("Error adding event listener for [zyx-mice".concat(t,"]:"),{e,node:n,data:r,zyxhtml:i})}}]}));function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=w(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v(r.key),r)}}function v(t){var e=function(t){if("object"!=y(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==y(e)?e:e+""}function d(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function b(t,e,n){return t.set(g(t,e),n),n}function m(t,e){return t.get(g(t,e))}function g(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function w(t,e){if(t){if("string"==typeof t)return k(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(t,e):void 0}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var S="or",O=new WeakMap,j=Symbol("zyxMultiReactive"),A=function(t){return Array.isArray(t)&&!0===t[j]};function T(t){var e=Array.isArray(t),n=e&&t&&"function"==typeof t.subscribe;if(!e||n)return{reactive:t,predicate:null};if(0===t.length)return{reactive:void 0,predicate:null};var r,i,o=t[t.length-1],a=t.slice(0,-1);if("function"==typeof o)return 0===a.length?{reactive:[],predicate:o}:1===a.length?{reactive:a[0],predicate:o}:{reactive:(r=a,i=r.slice(),i[j]=!0,i),predicate:o};var u=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(t,e)||w(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),l=u[0],c=u[1];return{reactive:l,predicate:"function"==typeof c?c:null}}var E=new WeakMap,P=new WeakMap,x=new WeakMap,M=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,E,[]),d(this,P,null),d(this,x,new WeakMap),O.set(e,this)},(e=[{key:"addCondition",value:function(t,e){var n=this;m(E,this).push({element:t,condition:e}),m(x,this).set(t,e),t.style.display="none";var r=function(e){e&&"object"===y(e)&&"subscribe"in e&&"function"==typeof e.subscribe&&e.subscribe(function(){return n.evaluateConditions()},t)},i=function(t){A(t)?t.forEach(r):r(t)};i(e.reactive),e.inlineOr&&i(e.inlineOr.reactive),this.evaluateConditions()}},{key:"evaluateConditions",value:function(){var t=!1,e=null;m(P,this)&&(m(P,this).style.display="none",b(P,this,null));var n,r=h(m(E,this));try{for(r.s();!(n=r.n()).done;)n.value.element.style.display="none"}catch(t){r.e(t)}finally{r.f()}var i,o=function(t){return t&&"object"===y(t)&&"value"in t?t.value:t},a=function(t,e){if(A(t)){var n=t.map(o);return e?e.apply(void 0,function(t){return function(t){if(Array.isArray(t))return k(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||w(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n)):n[0]}var r=o(t);return e?e(r):r},u=h(m(E,this));try{for(u.s();!(i=u.n()).done;){var l=i.value,c=l.element,s=l.condition;if(s.isElse)e=c;else{var f=a(s.reactive,s.predicate);!f&&s.inlineOr&&(f=a(s.inlineOr.reactive,s.inlineOr.predicate)),f&&!t&&(c.style.display="",b(P,this,c),t=!0)}}}catch(t){u.e(t)}finally{u.f()}!t&&e&&(e.style.display="",b(P,this,e))}}])&&p(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function _(t){var e=O.get(t);return e||(e=new M(t)),e}function z(t){var e=function(t){for(var e=t.previousElementSibling;e;){if(e.hasAttribute("zyx-if"))return e;e=e.previousElementSibling}return null}(t);return e?_(e):(console.warn("zyx-elif or zyx-else found without a preceding zyx-if:",t),null)}var C={"zyx-if":function(t){var e=t.node,n=t.data,r=t.zyxhtml,i=_(e),a=T(n),u=a.reactive,l=a.predicate,c=null;if(e.hasAttribute(S)){var s=o(e.getAttribute(S)),f=null!==s&&r?r.getDataByPlaceholderId(s):null;null!=f&&(c=T(f)),r&&r.markAttributeProcessed(e,S)}i.addCondition(e,{reactive:u,predicate:l,inlineOr:c})},"zyx-elif":function(t){var e=t.node,n=t.data,r=t.zyxhtml,i=z(e);if(i){var a=T(n),u=a.reactive,l=a.predicate,c=null;if(e.hasAttribute(S)){var s=o(e.getAttribute(S)),f=null!==s&&r?r.getDataByPlaceholderId(s):null;null!=f&&(c=T(f)),r&&r.markAttributeProcessed(e,S)}i.addCondition(e,{reactive:u,predicate:l,inlineOr:c})}},"zyx-else":function(t){var e=t.node,n=(t.data,t.zyxhtml,z(e));n&&n.addCondition(e,{isElse:!0})}};function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function R(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return L(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function W(t,e,n){return e=H(e),function(t,e){if(e&&("object"==I(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,U()?Reflect.construct(e,n||[],H(t).constructor):e.apply(t,n))}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=H(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},D.apply(null,arguments)}function N(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}function V(t){var e="function"==typeof Map?new Map:void 0;return V=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(U())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&B(i,n.prototype),i}(t,arguments,H(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),B(n,t)},V(t)}function U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(U=function(){return!!t})()}function B(t,e){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B(t,e)}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G(r.key),r)}}function q(t,e,n){return e&&$(t.prototype,e),n&&$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function G(t){var e=function(t){if("object"!=I(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==I(e)?e:e+""}new WeakMap;var X=function(){function t(){return F(this,t),W(this,t,arguments)}return N(t,V(Set)),q(t,[{key:"add",value:function(e){if(null==e)throw new TypeError("Cannot add null or undefined to WeakRefSet");this.has(e)||D(H(t.prototype),"add",this).call(this,new WeakRef(e))}},{key:"forEach",value:function(t){if("function"!=typeof t)throw new TypeError("Callback must be a function");var e,n=R(this.get());try{for(n.s();!(e=n.n()).done;)t(e.value)}catch(t){n.e(t)}finally{n.f()}}},{key:"delete",value:function(e){if(null==e)return!1;var n,r=R(D(H(t.prototype),"values",this).call(this));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.deref()===e)return D(H(t.prototype),"delete",this).call(this,i)}}catch(t){r.e(t)}finally{r.f()}return!1}},{key:"singleize",value:function(e){if(null==e)throw new TypeError("Cannot singleize with null or undefined reference");var n,r=R(D(H(t.prototype),"values",this).call(this));try{for(r.s();!(n=r.n()).done;){var i=n.value;i.deref()!==e&&D(H(t.prototype),"delete",this).call(this,i)}}catch(t){r.e(t)}finally{r.f()}}},{key:"get",value:function(){var e,n=[],r=R(D(H(t.prototype),"values",this).call(this));try{for(r.s();!(e=r.n()).done;){var i=e.value,o=i.deref();void 0===o?D(H(t.prototype),"delete",this).call(this,i):n.push(o)}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"size",get:function(){return this.get().length}}])}(),Z=function(){function t(e){var n;if(F(this,t),"number"!=typeof e||e<0)throw new TypeError("Limit must be a non-negative number");return(n=W(this,t)).limit=e,n}return N(t,V(Array)),q(t,[{key:"prepend",value:function(t){return this.length>=this.limit&&this.pop(),this.unshift(t),this}},{key:"append",value:function(t){return this.length>=this.limit&&this.shift(),this.push(t),this}},{key:"popleft",value:function(){if(0===this.length)throw new Error("Deque is empty");return this.shift()}},{key:"popright",value:function(){if(0===this.length)throw new Error("Deque is empty");return this.pop()}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isFull",value:function(){return this.length>=this.limit}}])}();function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function J(t){return function(t){if(Array.isArray(t))return K(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return K(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nt(r.key),r)}}function et(t,e,n){return e&&tt(t.prototype,e),n&&tt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nt(t){var e=function(t){if("object"!=Y(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Y(e)?e:e+""}function rt(t,e,n){return e=st(e),function(t,e){if(e&&("object"==Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return it(t)}(t,lt()?Reflect.construct(e,n||[],st(t).constructor):e.apply(t,n))}function it(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ot(){return ot="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=st(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},ot.apply(null,arguments)}function at(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ct(t,e)}function ut(t){var e="function"==typeof Map?new Map:void 0;return ut=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(lt())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&ct(i,n.prototype),i}(t,arguments,st(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ct(n,t)},ut(t)}function lt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(lt=function(){return!!t})()}function ct(t,e){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ct(t,e)}function st(t){return st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},st(t)}function ft(t,e){return t.get(ht(t,e))}function ht(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var yt=new WeakMap,pt=function(){function t(e){var n,r,i,o;return Q(this,t),function(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}(it(n=e instanceof Array?rt(this,t,J(e)):rt(this,t)),yt,void 0),r=yt,i=it(n),o=new mt,r.set(ht(r,i),o),it(n)}return at(t,ut(Array)),et(t,[{key:"fill",value:function(e,n){for(var r=0;r<e;r++)ot(st(t.prototype),"push",this).call(this,n(r));return this.callListeners("fill"),this}},{key:"interp",value:function(t){return new c(this,t)}},{key:"contentInterp",value:function(t){return new c(this,t,"html")}},{key:"value",get:function(){return this}},{key:"subscribe",value:function(t,e){ft(yt,this).subscribe(t,e)}},{key:"removeListener",value:function(t){ft(yt,this).unsubscribe(t)}},{key:"callListeners",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=ft(yt,this)).notifySubscribers.apply(e,[this,t].concat(r)),this}},{key:"push",value:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=ot(st(t.prototype),"push",this)).call.apply(e,[this].concat(r)),this.callListeners.apply(this,["push"].concat(r)),this}},{key:"pop",value:function(){var e=ot(st(t.prototype),"pop",this).call(this);return this.callListeners("pop",e),e}},{key:"shift",value:function(){var e=ot(st(t.prototype),"shift",this).call(this);return this.callListeners("shift",e),e}},{key:"unshift",value:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=ot(st(t.prototype),"unshift",this)).call.apply(e,[this].concat(r)),this.callListeners.apply(this,["unshift"].concat(r)),this}},{key:"splice",value:function(e,n){for(var r,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];var u=(r=ot(st(t.prototype),"splice",this)).call.apply(r,[this,e,n].concat(o));return this.callListeners.apply(this,["splice",e,n].concat(o)),u}},{key:"update",value:function(){return this.callListeners("update"),this}},{key:"clear",value:function(){return ot(st(t.prototype),"splice",this).call(this,0,this.length),this.callListeners("clear"),this}},{key:"remove",value:function(t){var e=this.indexOf(t);return-1!==e&&this.splice(e,1),this}},{key:"sort",value:function(e){return ot(st(t.prototype),"sort",this).call(this,e),this.callListeners("sort",e),this}},{key:"swap",value:function(t){if(!Array.isArray(t))throw new TypeError("LiveList.swap() requires an array");return this.clear(),this.push.apply(this,J(t)),this}},{key:"insert",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.splice.apply(this,[t,0].concat(n)),this}}])}(),vt=function(){function t(e){return Q(this,t),rt(this,t,[e])}return at(t,Z),et(t)}(),dt=function(){return et(function t(e){Q(this,t),this.initialValue=e,this.value=e,this.eventListeners=new mt},[{key:"interp",value:function(t){return new c(this,t,"text")}},{key:"contentInterp",value:function(t){return new c(this,t,"html")}},{key:"subscribe",value:function(t,e){this.eventListeners.subscribe(t,e)}},{key:"reset",value:function(){this.value=this.initialValue,this.eventListeners.notifySubscribers(this.value)}},{key:"toggle",value:function(){var t=this.get();if("boolean"!=typeof t)throw new TypeError("LiveVar.toggle() only works for Booleans");return this.set(!t),this}},{key:"set",value:function(t){t!==this.value&&(this.value=t,this.eventListeners.notifySubscribers(this.value))}},{key:"default",value:function(t,e){return void 0!==this.value&&null!==this.value&&this.value!==t||this.set(e),this}},{key:"get",value:function(){return this.value}}])}(),bt=new WeakMap,mt=function(){return et(function t(){Q(this,t),this.subscribers=new X},[{key:"subscribe",value:function(t,e){var n,r=this;if("function"!=typeof t)throw new TypeError("Callback must be a function");return e&&(n=e,bt.has(n)||bt.set(n,[]),bt.get(n)).push(t),this.subscribers.add(t),function(){return r.unsubscribe(t)}}},{key:"unsubscribe",value:function(t){if("function"!=typeof t)throw new TypeError("Callback must be a function");this.subscribers.delete(t)}},{key:"notifySubscribers",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.subscribers.forEach(function(t){return t.apply(void 0,e)})}}])}();function gt(t,e){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gt(t,e)}function wt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(wt=function(){return!!t})()}function kt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(t,e)||jt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(t){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(t)}function Ot(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=jt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function jt(t,e){if(t){if("string"==typeof t)return At(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(t,e):void 0}}function At(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,It(r.key),r)}}function Et(t,e,n){Pt(t,e),e.set(t,n)}function Pt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xt(t,e,n){return t.set(_t(t,e),n),n}function Mt(t,e){return t.get(_t(t,e))}function _t(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Ct(t,e,n){return(e=It(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function It(t){var e=function(t){if("object"!=St(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=St(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==St(e)?e:e+""}var Rt=new WeakMap,Lt={"zyx-live-list":function(t){var e=t.node,n=t.data;return new Jt(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(n),!0).forEach(function(e){Ct(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({container:e},n))}},Wt=new WeakMap,Dt=new WeakMap,Nt=new WeakMap,Vt=new WeakMap,Ut=new WeakMap,Bt=new WeakMap,Ht=new WeakMap,Ft=new WeakMap,$t=new WeakMap,qt=new WeakMap,Gt=new WeakMap,Xt=new WeakMap,Zt=new WeakMap,Yt=new WeakSet,Jt=function(){return t=function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.container,i=void 0===r?i:r,o=n.list,a=void 0===o?null:o,u=n.compose,l=void 0===u?null:u,s=n.debounce,f=void 0===s?1:s,h=n.range,y=void 0===h?null:h,p=n.after,v=void 0===p?null:p,d=n.offset,b=void 0===d?0:d,m=n.filter,g=void 0===m?null:m;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Pt(this,e=Yt),e.add(this),Et(this,Wt,new WeakMap),Et(this,Dt,void 0),Et(this,Nt,void 0),Et(this,Vt,void 0),Et(this,Ut,void 0),Et(this,Bt,void 0),Et(this,Ht,void 0),Et(this,Ft,void 0),Et(this,$t,void 0),Et(this,qt,void 0),Et(this,Gt,void 0),Et(this,Xt,void 0),Et(this,Zt,null),!(a instanceof pt||a instanceof c))throw new Error("list must be an instance of LiveList or LiveVar.interp() (LiveInterp)");var w=i.querySelector("[container]")||i;i.liveDomList=this,xt(Dt,this,i),xt(Nt,this,w),this.infiniteScrolling=null,Rt.set(i,this),xt(Bt,this,l),xt(Gt,this,v),xt(Vt,this,a),xt(Ft,this,y),xt($t,this,b),xt(qt,this,f),xt(Ht,this,"function"==typeof g?g:null),xt(Xt,this,this.arrayModified.bind(this)),a instanceof pt?(xt(Ut,this,a),Mt(Ut,this).subscribe(Mt(Xt,this),i)):a instanceof c&&(xt(Ut,this,_t(Yt,this,Kt).call(this)),_t(Yt,this,Qt).call(this),Mt(Vt,this).reactive.subscribe(this.liveVarChanged.bind(this),i)),this.update()},e=[{key:"startIndex",get:function(){return Mt(Ft,this)[0]}},{key:"endIndex",get:function(){return Mt(Ft,this)[1]}},{key:"isUpdating",get:function(){return null!==Mt(Zt,this)}},{key:"liveVarChanged",value:function(){_t(Yt,this,te).call(this),xt(Ut,this,_t(Yt,this,Kt).call(this)),_t(Yt,this,Qt).call(this),this.update()}},{key:"arrayModified",value:function(t,e){var n=this;Mt(Zt,this)&&clearTimeout(Mt(Zt,this)),xt(Zt,this,setTimeout(function(){n.update(),xt(Zt,n,null)},Mt(qt,this)))}},{key:"forEach",value:function(t){var e,n=Ot(this.entries());try{for(n.s();!(e=n.n()).done;)t(e.value)}catch(t){n.e(t)}finally{n.f()}}},{key:"entries",value:function(){var t=this;return Array.from(Mt(Nt,this).children,function(e){return[e,Mt(Wt,t).get(e)]})}},{key:"orderedEntires",value:function(){var t=this;return Array.from(this.orderedDomItems(),function(e){return[e,Mt(Wt,t).get(e)]})}},{key:"domItems",value:function(){var t=this;return Array.from(Mt(Nt,this).children,function(e){return Mt(Wt,t).get(e)})}},{key:"orderedDomItems",value:function(){return Array.from(Mt(Nt,this).children).sort(function(t,e){return t.style.order-e.style.order})}},{key:"get",value:function(t){return Mt(Wt,this).get(t)}},{key:"solo",value:function(t){var e,n=!1,r=Ot(this.entries());try{for(r.s();!(e=r.n()).done;){var i=kt(e.value,2),o=i[0];i[1]!==t?o.remove():n=!0}}catch(t){r.e(t)}finally{r.f()}if(!n){var a=Xe(this.createCompose(t));if(a instanceof HTMLTemplateElement||a instanceof DocumentFragment)throw Error("cannot associate reactive object with a template element");this.appendToContainer(a,t),Mt(Wt,this).set(a,t),"symbol"!==St(t)&&"object"!==St(t)||Mt(Wt,this).set(t,a)}return this}},{key:"createCompose",value:function(t){var e;if(!Mt(Bt,this))return t;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return"object"===St(Mt(Bt,this).prototype)?function(t,e,n){if(wt())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&gt(i,n.prototype),i}(Mt(Bt,this),[t].concat(r)):(e=Mt(Bt,this)).call.apply(e,[this,t].concat(r))}},{key:"getTarget",value:function(){var t=this,e=Object.values(Mt(Ut,this));if(null!==Mt(Ft,this)){var n=this.getRange(),r=n.start,i=n.end;e=e.slice(r,i)}return Mt(Ht,this)&&(e=e.filter(function(e,n){return Mt(Ht,t).call(t,e,n)})),e}},{key:"getRange",value:function(){return{start:Math.max(0,Mt(Ft,this)[0]+Mt($t,this)),end:Math.min(Mt(Ut,this).length,Mt(Ft,this)[1]+Mt($t,this))}}},{key:"getRangeHalf",value:function(){var t=this.getRange();return(t.start+t.end)/2}},{key:"getRangeLength",value:function(){return this.getRange().end-this.getRange().start}},{key:"setFilter",value:function(t){xt(Ht,this,"function"==typeof t?t:null),this.update()}},{key:"updateRange",value:function(t){var e=t(Mt(Ft,this));xt(Ft,this,[Math.max(0,e[0]),Math.max(0,e[1])]),Mt(Nt,this).setAttribute("data-range",Mt(Ft,this).join(",")),this.update()}},{key:"shiftRange",value:function(t){this.updateRange(function(e){return[e[0]+t,e[1]+t]})}},{key:"updateOffset",value:function(t){var e=t(Mt($t,this));xt($t,this,Math.max(0,e)),Mt(Nt,this).setAttribute("data-offset",Mt($t,this)),this.update()}},{key:"removeNonArrayElements",value:function(t){t=t||this.getTarget();var e,n=Ot(this.entries());try{for(n.s();!(e=n.n()).done;){var r=kt(e.value,2),i=r[0],o=r[1];t.includes(o)||i.remove()}}catch(t){n.e(t)}finally{n.f()}}},{key:"getCreateElements",value:function(t){var e=this;t=t||this.getTarget();var n=this.domItems(),r=-1;return t.map(function(i){r++;var o=Mt(Wt,e).get(i);if(o)return n.includes(i)||e.appendToContainer(o,i),{item:i,element:o,index:r};var a=e.createCompose(i);if((o=Xe(a))instanceof HTMLTemplateElement||o instanceof DocumentFragment)throw console.error("cannot associate reactive object with a template element",{element:o,item:i,zyXHtml:a,target_content:t}),Error("cannot associate reactive object with a template element");return e.appendToContainer(o,a),Mt(Wt,e).set(o,i),"symbol"!==St(i)&&"object"!==St(i)||Mt(Wt,e).set(i,o),{item:i,index:r,element:o}})}},{key:"appendToContainer",value:function(t,e){Mt(Nt,this).appendChild(t),this.infiniteScrolling&&this.infiniteScrolling.mutationObserver.observe(t);try{var n;null===(n=e.onConnected)||void 0===n||n.call(e,t)}catch(t){console.error("item.onConnected error",t)}}},{key:"update",value:function(){var t=this.getTarget();this.removeNonArrayElements(t);var e,n=Ot(this.getCreateElements(t));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.element,o=r.index;i.style.order=o,i.setAttribute("list-index",o)}}catch(t){n.e(t)}finally{n.f()}Mt(Gt,this)&&Mt(Gt,this).call(this)}}],e&&Tt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Kt(){if(Mt(Vt,this)instanceof pt)return Mt(Vt,this);if(Mt(Vt,this)instanceof c){var t=Mt(Vt,this).interprate();if(null==t||void 0===t)return new pt([]);if(!(t instanceof pt))throw new Error("LiveVar.interp() callback must return a LiveList instance or null/undefined");return t}throw new Error("Invalid list type")}function Qt(){Mt(Ut,this)&&Mt(Ut,this).subscribe(Mt(Xt,this),Mt(Dt,this))}function te(){Mt(Ut,this)&&Mt(Ut,this).removeListener(Mt(Xt,this))}function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function ne(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(t,e)||ie(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ie(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function ie(t,e){if(t){if("string"==typeof t)return oe(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(t,e):void 0}}function oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ue(r.key),r)}}function ue(t){var e=function(t){if("object"!=ee(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ee(e)?e:e+""}var le=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._owner=e,this._namespaces=new Map},e=[{key:"_ensure",value:function(t){return this._namespaces.has(t)||this._namespaces.set(t,{selected:null,controls:new Map,panels:new Map,listeners:new Set}),this._namespaces.get(t)}},{key:"registerControl",value:function(t,e,n){var r=this,i=this._ensure(t);i.controls.has(e)||i.controls.set(e,new Set),i.controls.get(e).add(n),n.__zyx_radioview_bound__||(n.addEventListener("click",function(){return r.select(t,e)}),n.__zyx_radioview_bound__=!0,n.setAttribute("role","tab")),null==i.selected&&(i.selected=e),this._updateUI(t)}},{key:"registerPanel",value:function(t,e,n){var r=this._ensure(t);r.panels.has(e)||r.panels.set(e,new Set),r.panels.get(e).add(n),n.setAttribute("role","tabpanel"),null==r.selected&&(r.selected=e),this._updateUI(t)}},{key:"select",value:function(t,e){var n=this._ensure(t);if(n.selected!==e){n.selected=e,this._updateUI(t);var r,i=re(n.listeners);try{for(i.s();!(r=i.n()).done;){var o=r.value;try{o(e)}catch(t){console.error("RadioViewManager subscriber error:",t)}}}catch(t){i.e(t)}finally{i.f()}}}},{key:"getSelected",value:function(t){return this._ensure(t).selected}},{key:"subscribe",value:function(t,e){var n=this._ensure(t);return n.listeners.add(e),function(){n.listeners.delete(e)}}},{key:"_updateUI",value:function(t){var e,n=this._ensure(t),r=n.selected,i=re(n.panels.entries());try{for(i.s();!(e=i.n()).done;){var o,a=ne(e.value,2),u=a[0],l=a[1],c=u===r,s=re(l);try{for(s.s();!(o=s.n()).done;){var f=o.value;c?(f.hidden=!1,f.style.display=""):(f.hidden=!0,f.style.display="none")}}catch(t){s.e(t)}finally{s.f()}}}catch(t){i.e(t)}finally{i.f()}var h,y=re(n.controls.entries());try{for(y.s();!(h=y.n()).done;){var p,v=ne(h.value,2),d=v[0],b=v[1],m=d===r,g=re(b);try{for(g.s();!(p=g.n()).done;){var w=p.value;m?(w.classList.add("zyx-radioview-active"),w.setAttribute("aria-selected","true")):(w.classList.remove("zyx-radioview-active"),w.setAttribute("aria-selected","false"))}}catch(t){g.e(t)}finally{g.f()}}}catch(t){y.e(t)}finally{y.f()}}}],e&&ae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function ce(t,e){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ce(t,e)}function se(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(se=function(){return!!t})()}function fe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(t,e)||be(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ye(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?he(Object(n),!0).forEach(function(e){pe(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function pe(t,e,n){return(e=ke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ve(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=be(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function de(t){return function(t){if(Array.isArray(t))return me(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||be(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(t,e){if(t){if("string"==typeof t)return me(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(t,e):void 0}}function me(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ge(t){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ge(t)}function we(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ke(r.key),r)}}function ke(t){var e=function(t){if("object"!=ge(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ge(e)?e:e+""}function Se(t,e,n){Oe(t,e),e.set(t,n)}function Oe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function je(t,e){return t.get(Te(t,e))}function Ae(t,e,n){return t.set(Te(t,e),n),n}function Te(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Ee="###",Pe="tag",xe=["this","push","ph"],Me=new WeakMap,_e=new WeakMap,ze=new WeakMap,Ce=new WeakMap,Ie=new WeakMap,Re=new WeakMap,Le=new WeakMap,We=new WeakMap,De=new WeakMap,Ne=new WeakMap,Ve=new WeakMap,Ue=new WeakMap,Be=new WeakSet,He=function(){return t=function t(e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Oe(this,n=Be),n.add(this),Se(this,Me,!1),Se(this,_e,void 0),Se(this,ze,void 0),Se(this,Ce,void 0),Se(this,Ie,void 0),Se(this,Re,void 0),Se(this,Le,void 0),Se(this,We,void 0),Se(this,De,void 0),Se(this,Ne,void 0),Se(this,Ve,void 0),Se(this,Ue,void 0),Ae(We,this,e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];Ae(De,this,i),Ae(Ce,this,this.processTagData()),Ae(ze,this,this.becomeDOM()),Ae(Re,this,!1),Ae(_e,this,null),Ae(Ie,this,null),Ae(Me,this,!1),Ae(Ve,this,!1),Ae(Ue,this,new Map)},i=[{key:"logMap",value:function(){return Ae(Ve,this,!0),this}},{key:"getManager",value:function(t,e){if(je(Ue,this).has(t))return je(Ue,this).get(t);if(e){var n=e();return je(Ue,this).set(t,n),n}return null}},{key:"hasManager",value:function(t){return je(Ue,this).has(t)}},{key:"setManager",value:function(t,e){je(Ue,this).set(t,e)}},{key:"cleanUp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.keepMarkup,n=void 0!==e&&e,r=t.keepRaw,i=void 0!==r&&r,o=t.keepData,a=void 0!==o&&o,u=t.keepMap,l=void 0!==u&&u;n||Ae(ze,this,null),i||Ae(We,this,null),a||(Ae(Ce,this,null),Ae(De,this,null)),l||Ae(Ie,this,null)}},{key:"processTagData",value:function(){var t=this,e=je(We,this).slice(0,-1),n="";return je(De,this).map(function(r,i){n+=e.shift();var o="content",a=!1,u=Te(Be,t,Fe).call(t,n);/<\s*$/.test(n)?o=Pe:/=\s*$/.test(n)?(a=!0,o="unquoted-value"):/=\s*["']\s*$/.test(n)?(a=!1,o="quoted-value"):/<\/\s*$/.test(n)&&(o=Pe);var l=Te(Be,t,$e).call(t,u,i),c=a?'"'.concat(l,'"'):l,s=null!==r&&("object"===ge(r)||"function"==typeof r);return{context:o,value:r,replacement:o===Pe?r:c,needsPlaceholder:s,parentType:u}})}},{key:"becomeDOM",value:function(){return function(t){for(var e=t.childNodes,n=0;n<2;n++)e[n]&&3===e[n].nodeType&&""===e[n].textContent.trim()&&t.removeChild(e[n]);return t}(function(t){var e=t.trimStart();if(/^<tr\b/i.test(e)){var n=document.createElement("tbody");return n.innerHTML=t,n}if(/^<(td|th)\b/i.test(e)){var r=document.createElement("tr");return r.innerHTML=t,r}var i=document.createElement("div");return i.innerHTML=t,i}(String.raw.apply(String,[{raw:je(We,this)}].concat(de(je(Ce,this).map(function(t){var e=t.value,n=t.needsPlaceholder,r=t.replacement;return n?r:null!=e?e:""}))))))}},{key:"const",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.keepRaw,r=void 0!==e&&e,i=t.keepMarkup,o=void 0!==i&&i,a=t.keepData,u=void 0!==a&&a,l=t.keepMap,c=void 0!==l&&l,s=t.mutationObserver,f=void 0!==s&&s;if(je(Me,this))return this;Ae(Ie,this,this.mapEverything()),je(Ve,this)&&console.log("ZyXHTML: map",je(Ie,this),{this:this}),this.replaceDOMPlaceholders();var h,y=ve(je(Ie,this).phs);try{for(y.s();!(h=y.n()).done;){var p=h.value,v=p.node,d=p.ph;v.setAttribute("ph",d),this.thisAssigner(v,d),this.markAttributeProcessed(v,"ph",d)}}catch(t){y.e(t)}finally{y.f()}var b,m=ve(je(Ie,this).hasThis);try{for(m.s();!(b=m.n()).done;){var g=b.value,w=g.node,k=g.key;this.thisAssigner(w,k),this.markAttributeProcessed(w,"this",k)}}catch(t){m.e(t)}finally{m.f()}var S,O=ve(je(Ie,this).hasPush);try{for(O.s();!(S=O.n()).done;){var j=S.value,A=j.node,T=j.key;this.pushAssigner(A,T),this.markAttributeProcessed(A,"push",T)}}catch(t){O.e(t)}finally{O.f()}var E,P=ve(je(Ie,this).hasId);try{for(P.s();!(E=P.n()).done;){var x=E.value,M=x.node,_=x.id;this.thisAssigner(M,_)}}catch(t){P.e(t)}finally{P.f()}var z,C=ve(je(Ie,this).zyxBindAttributes);try{for(C.s();!(z=C.n()).done;){var I=z.value,R=I.node,L=I.attr,W=I.data,D=Je[L];try{D({zyxhtml:this,node:R,data:W}),this.markAttributeProcessed(R,L)}catch(t){console.error(t),console.error("ZyXHTML: Error binding attribute",{attr:L,node:R,handler:D,data:W}),this.markAttributeProcessed(R,"errored-".concat(L),t)}}}catch(t){C.e(t)}finally{C.f()}var N,V,U,B,H=ve(je(Ie,this).zyxDynamicVars);try{for(H.s();!(N=H.n()).done;){var F=N.value,$=F.node,q=F.attr;F.data.createZyXHTMLReactiveNode(this,$,q),this.markAttributeProcessed($,q)}}catch(t){H.e(t)}finally{H.f()}return!this.main&&je(ze,this).firstElementChild&&(this.thisAssigner(je(ze,this).firstElementChild,"main"),this.markAttributeProcessed(je(ze,this).firstElementChild,"main")),Ae(_e,this,je(ze,this).childNodes.length>1?(V=je(ze,this),(U=(B=document.createElement("template")).content).append.apply(U,function(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(V.childNodes)),B):je(ze,this)),Ae(Re,this,je(_e,this)instanceof HTMLTemplateElement),je(Re,this)?Ae(_e,this,je(_e,this).content):Ae(_e,this,je(_e,this).firstElementChild),f&&this.setupSelfMutationObserver(),this.cleanUp({keepMarkup:o,keepRaw:r,keepData:u,keepMap:c}),Ae(Me,this,!0),this}},{key:"mapEverything",value:function(){var t,e=de(je(ze,this).querySelectorAll("*")),n={placeholders:[],hasThis:[],hasId:[],zyxBindAttributes:[],zyxDynamicVars:[],phs:[],hasPush:[]},i=ve(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.matches(r)){var u=a.getAttribute("id");if(u){var l,s,f,h=null===(l=je(Ce,this)[u])||void 0===l?void 0:l.value,y=null!==(s=null===(f=je(Ce,this)[u])||void 0===f?void 0:f.parentType)&&void 0!==s?s:null;n.placeholders.push({node:a,phid:u,dataValue:h,parentType:y})}}else if("OPTION"!==a.tagName&&"TR"!==a.tagName&&"TD"!==a.tagName||!a.hasAttribute("data-ph-id"))if(a.hasAttribute("ph"))n.phs.push({node:a,ph:a.getAttribute("ph")});else if(a.hasAttribute("this")&&n.hasThis.push({node:a,key:a.getAttribute("this")}),a.hasAttribute("push"))n.hasPush.push({node:a,key:a.getAttribute("push")});else{a.hasAttribute("id")&&n.hasId.push({node:a,id:a.getAttribute("id")});for(var p=0,v=de(a.attributes);p<v.length;p++){var d,b=v[p],m=o(b.value),g=null===(d=je(Ce,this)[m])||void 0===d?void 0:d.value;b.name in Je&&n.zyxBindAttributes.push({node:a,attr:b.name,data:g}),g&&g instanceof c&&n.zyxDynamicVars.push({node:a,attr:b.name,data:g})}}else{var w=a.getAttribute("data-ph-id");if(w){var k,S,O,j=null===(k=je(Ce,this)[w])||void 0===k?void 0:k.value,A=null!==(S=null===(O=je(Ce,this)[w])||void 0===O?void 0:O.parentType)&&void 0!==S?S:null;n.placeholders.push({node:a,phid:w,dataValue:j,parentType:A})}}}}catch(t){i.e(t)}finally{i.f()}return ye({all:e},n)}},{key:"replaceDOMPlaceholders",value:function(){var t;if(null!==(t=je(Ie,this))&&void 0!==t&&null!==(t=t.placeholders)&&void 0!==t&&t.length){var e,n=ve(je(Ie,this).placeholders);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.node,o=r.dataValue,a=r.parentType;try{if(o instanceof c)o.createZyXHTMLReactiveNode(this,i,null);else{var u=Xe(o),l=i.parentElement;Te(Be,this,qe).call(this,a)?Te(Be,this,Ge).call(this,l,i,u):i.replaceWith(u)}}catch(t){console.error("Error replacing DOM placeholder:",t)}}}catch(t){n.e(t)}finally{n.f()}}}},{key:"setupSelfMutationObserver",value:function(){Ae(Ne,this,new MutationObserver(function(t){})),je(Ne,this).observe(je(_e,this),{childList:!0,subtree:!0})}},{key:"thisAssigner",value:function(t,e){if(t&&e)try{var n=e.split(" ");if(1===n.length){var r=n[0];t.__key__=r,this[r]=t,je(Le,this)&&(je(Le,this)[r]=t)}else{var i=fe(n,2),o=i[0],a=i[1];this[o]||(this[o]={}),this[o][a]=t,je(Le,this)&&(je(Le,this)[o]||(je(Le,this)[o]={}),je(Le,this)[o][a]=t),t.__group__=o,t.__key__=a}}catch(t){console.error("Error in thisAssigner:",t)}}},{key:"pushAssigner",value:function(t,e){this[e]||(this[e]=[]),this[e].push(t),je(Le,this)&&(je(Le,this)[e]||(je(Le,this)[e]=[]),je(Le,this)[e].push(t))}},{key:"markAttributeProcessed",value:function(t,e,n){xe.includes(e)?t.removeAttribute(e):t.setAttribute("".concat(e,"-processed"),n||""),t.setAttribute(e,"")}},{key:"getDataByPlaceholderId",value:function(t){var e,n;return null!==(e=null===(n=je(Ce,this))||void 0===n||null===(n=n[t])||void 0===n?void 0:n.value)&&void 0!==e?e:null}},{key:"markup",get:function(){return je(_e,this.const())}},{key:"appendTo",value:function(t){return t.append(this.markup),this}},{key:"prependTo",value:function(t){return t.prepend(this.markup),this}},{key:"place",value:function(t){return function(t,n){if("object"===e(n))return n.replaceWith(t);var r=document.querySelector("ph[".concat(n,"]"));if(!r)throw new Error("".concat(n," not found"));r.replaceWith(t)}(this.markup,t),this}},{key:"bind",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ae(Le,this,t),t[Ee]=this,t.appendTo=function(t){return e.appendTo(t)},t.prependTo=function(t){return e.prependTo(t)},t.place=function(t){return e.place(t)},this.const(n)}},{key:"join",value:function(t){return Ae(Le,this,t),null!=t&&t[Ee]&&Object.assign(this,t[Ee]),this.const()}},{key:"touch",value:function(t){return console.warn("ZyXHTML: touch is deprecated"),t({proxy:this,markup:this.markup}),this}},{key:"getRadioViewManager",value:function(){var t=this;return this.getManager("radioView",function(){return new le(t)})}},{key:"radioViewSelect",value:function(t,e){this.getRadioViewManager().select(t,e)}},{key:"radioViewSelected",value:function(t){return this.getRadioViewManager().getSelected(t)}},{key:"onRadioViewChange",value:function(t,e){return this.getRadioViewManager().subscribe(t,e)}},{key:"radioViewRegisterControl",value:function(t,e,n){this.getRadioViewManager().registerControl(t,e,n)}},{key:"radioViewRegisterPanel",value:function(t,e,n){this.getRadioViewManager().registerPanel(t,e,n)}}],i&&we(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function Fe(t){for(var e,n=[],r=/<\/?([a-zA-Z][a-zA-Z0-9-]*)\b[^>]*\/?>/g;null!==(e=r.exec(t));){var i=e[0],o=e[1].toLowerCase(),a=i.startsWith("</");if(!i.endsWith("/>")&&!i.endsWith("/ >"))if(a){var u=n.lastIndexOf(o);-1!==u&&n.splice(u,1)}else n.push(o)}return n.length>0?n[n.length-1]:null}function $e(t,e){switch(t){case"select":return"<option data-ph-id='".concat(e,"'></option>");case"table":return"<tr data-ph-id='".concat(e,"'></tr>");case"tr":return"<td data-ph-id='".concat(e,"'></td>");default:return i(e)}}function qe(t){return"select"===t||"table"===t||"tr"===t}function Ge(t,e,n){if(t)if(n instanceof DocumentFragment){var r=Array.from(n.childNodes);0===r.length?e.remove():(e.remove(),t.append.apply(t,r))}else{if(n instanceof Element||n instanceof Text)return e.remove(),void t.append(n);e.remove()}else e.replaceWith(n)}function Xe(t){return!1===t||null==t?"":Array.isArray(t)?(e=t,r=document.createElement("template"),(n=r.content).append.apply(n,de(e.map(Xe))),r).content:"function"==typeof t?Xe(t()):(null==t?void 0:t[Ee])instanceof He?t[Ee].markup:t instanceof He?t.markup:t instanceof HTMLTemplateElement?t.content:t;var e,n,r}He.prototype.super=He.prototype.join;var Ze,Ye,Je=ye(ye(ye(ye(ye(ye({},s),f),C),Lt),{"zyx-radioview":function(t){var e=t.zyxhtml,n=t.node,r=function(t){if(!t||"string"!=typeof t)return null;var e=t.split(".");if(e.length<2)return null;var n="open"===e[2]||e.includes("open");return{ns:e[0],view:e[1],isControl:n}}(n.getAttribute("zyx-radioview")||"");if(r){var i=r.ns,o=r.view;r.isControl?e.radioViewRegisterControl(i,o,n):e.radioViewRegisterPanel(i,o,n)}}}),{},{"zyx-insert-n":function(t){for(var e=t.zyxhtml,n=t.node,r=fe(t.data,2),i=r[0],o=r[1],a=0;a<i;a++)n.append(Xe(o(e,a,i)))},"zyx-insert-entries":function(t){for(var e=t.zyxhtml,n=t.node,r=fe(t.data,3),i=r[0],o=r[1],a=r[2],u=0,l=Object.entries(i);u<l.length;u++){var c=fe(l[u],2),s=o(e,c[0],c[1]);if(n.append(Xe(s)),a)if("string"==typeof a)e.pushAssigner(s,a);else{if(!Array.isArray(a))throw new Error("Invalid groupname");a.push(s)}}}});function Ke(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,e,n){if(se())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&ce(i,n.prototype),i}(He,e)}function Qe(t){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(t)}function tn(){var t=un(),e=t.m(tn),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var i={throw:1,return:2,break:3,continue:3};function o(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,i[t],e)},delegateYield:function(t,i,o){return e.resultName=i,n(r.d,en(t),o)},finish:function(t){return n(r.f,t)}},n=function(t,n,i){r.p=e.prev,r.n=e.next;try{return t(n,i)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(tn=function(){return{wrap:function(e,n,r,i){return t.w(o(e),n,r,i&&i.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new cn(t,e)},AsyncIterator:an,async:function(t,e,n,i,a){return(r(e)?on:rn)(o(t),e,n,i,a)},keys:nn,values:en}})()}function en(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(Qe(t)+" is not iterable")}function nn(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function rn(t,e,n,r,i){var o=on(t,e,n,r,i);return o.next().then(function(t){return t.done?t.value:o.next()})}function on(t,e,n,r,i){return new an(un().w(t,e,n,r),i||Promise)}function an(t,e){function n(r,i,o,a){try{var u=t[r](i),l=u.value;return l instanceof cn?e.resolve(l.v).then(function(t){n("next",t,o,a)},function(t){n("throw",t,o,a)}):e.resolve(l).then(function(t){u.value=t,o(u)},function(t){return n("throw",t,o,a)})}catch(t){a(t)}}var r;this.next||(ln(an.prototype),ln(an.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),ln(this,"_invoke",function(t,i,o){function a(){return new e(function(e,r){n(t,o,e,r)})}return r=r?r.then(a,a):a()},!0)}function un(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var l=r&&r.prototype instanceof u?r:u,c=Object.create(l.prototype);return ln(c,"_invoke",function(n,r,i){var o,u,l,c=0,s=i||[],f=!1,h={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return o=e,u=0,l=t,h.n=n,a}};function y(n,r){for(u=n,l=r,e=0;!f&&c&&!i&&e<s.length;e++){var i,o=s[e],y=h.p,p=o[2];n>3?(i=p===r)&&(l=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=y&&((i=n<2&&y<o[1])?(u=0,h.v=r,h.n=o[1]):y<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,h.n=p,u=0))}if(i||n>1)return a;throw f=!0,r}return function(i,s,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&y(s,p),u=s,l=p;(e=u<2?t:l)||!f;){o||(u?u<3?(u>1&&(h.n=-1),y(u,l)):h.n=l:h.v=l);try{if(c=2,o){if(u||(i="next"),e=o[i]){if(!(e=e.call(o,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=t}else if((e=(f=h.n<0)?l:n.call(r,h))!==a)break}catch(e){o=t,u=1,l=e}finally{c=1}}return{value:e,done:f}}}(n,i,o),!0),c}var a={};function u(){}function l(){}function c(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(ln(e={},r,function(){return this}),e),f=c.prototype=u.prototype=Object.create(s);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,ln(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return l.prototype=c,ln(f,"constructor",c),ln(c,"constructor",l),l.displayName="GeneratorFunction",ln(c,i,"GeneratorFunction"),ln(f),ln(f,i,"Generator"),ln(f,r,function(){return this}),ln(f,"toString",function(){return"[object Generator]"}),(un=function(){return{w:o,m:h}})()}function ln(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}ln=function(t,e,n,r){function o(e,n){ln(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},ln(t,e,n,r)}function cn(t,e){this.v=t,this.k=e}function sn(t,e,n,r,i,o,a){try{var u=t[o](a),l=u.value}catch(t){return void n(t)}u.done?e(l):Promise.resolve(l).then(r,i)}function fn(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yn(r.key),r)}}function yn(t){var e=function(t){if("object"!=Qe(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Qe(e)?e:e+""}var pn=function(){function t(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).root;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ke(Ze||(Ze=fn([' <styles this="styles"></styles> ']))).bind(this),e&&this.appendTo(e)}return e=t,n=[{key:"str",value:(r=tn().mark(function t(e){var n,r,i,o,a=arguments;return tn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=a.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=a[i];return o=String.raw.apply(String,[e].concat(r)),t.abrupt("return",Ke(Ye||(Ye=fn(['<style this="style">',"</style>"])),o).appendTo(this.styles));case 3:case"end":return t.stop()}},t,this)}),i=function(){var t=this,e=arguments;return new Promise(function(n,i){var o=r.apply(t,e);function a(t){sn(o,n,i,a,u,"next",t)}function u(t){sn(o,n,i,a,u,"throw",t)}a(void 0)})},function(t){return i.apply(this,arguments)})},{key:"cloneType",value:function(e){return new t({root:e})}}],n&&hn(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r,i}(),vn=new pn({root:"undefined"!=typeof document&&document.head});function dn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return vn.str.apply(vn,[t].concat(n))}function bn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return mn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function mn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var gn=new WeakMap;"undefined"!=typeof window&&(window.zyxMap=gn);var wn,kn=function(t,e){var n=gn.get(t);return n||(gn.set(t,{banks:{}}),n=gn.get(t)),e in n.banks||(n.banks[e]={}),n.banks[e]};function Sn(t,e){var n=kn(t,"delayChains");if(e in n){var r,i=bn(n[e].pending);try{for(i.s();!(r=i.n()).done;){var o=r.value;clearTimeout(o)}}catch(t){i.e(t)}finally{i.f()}n[e].pending=[],n[e].callbacks=[]}else n[e]={callbacks:[],pending:[]};var a=function(){return n[e].callbacks.length>0&&n[e].callbacks.splice(0,1)[0]()};return n[e].pending.push(setTimeout(a,1)),function t(){return{then:function(r,i){return n[e].callbacks.push(function(){n[e].pending.push(setTimeout(function(t){r(),a()},i))}),t()}}}()}function On(t,e){var n=kn(t,"delayChains");if(e in n){var r,i=bn(n[e].pending);try{for(i.s();!(r=i.n()).done;){var o=r.value;clearTimeout(o)}}catch(t){i.e(t)}finally{i.f()}n[e]={callbacks:[],pending:[]}}}function jn(t,e,n,r){return new Promise(function(i,o){var a=kn(t,"delays");e in a&&clearTimeout(a[e].timeout),n=n||0,a[e]=r?{func:r,timeout:setTimeout(function(){return i(r())},n)}:{func:r,timeout:setTimeout(i,n)}})}function An(t){for(var e,n=kn(t,"delays"),r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(i.length>1)for(var a in i){var u;a in n&&clearTimeout(null===(u=n[a])||void 0===u?void 0:u.timeout)}else clearTimeout(null===(e=n[i[0]])||void 0===e?void 0:e.timeout)}function Tn(t,e){var n=kn(t,"delays");e in n&&(clearTimeout(n[e].timeout),n[e].func())}function En(t,e,n,r){var i=kn(t,"debouncers");if(e in i)i[e](n);else{try{n(),n=null}catch(t){throw new Error(t)}setTimeout(function(t){try{n&&n()}catch(t){throw new Error(t)}delete i[e]},r),i[e]=function(t){return n=t}}}function Pn(t,e,n,r){var i=kn(t,"throttlers");if(e in i){var o=Date.now();if(o-i[e].lastRun>=r){i[e].lastRun=o;try{n()}catch(t){throw new Error(t)}}}else{try{n()}catch(t){throw new Error(t)}i[e]={lastRun:Date.now(),func:n}}}function xn(){return navigator.maxTouchPoints>0}var Mn,_n,zn={delay:jn,instant:Tn,clearDelay:An,delayChain:Sn,breakDelayChain:On,debounce:En,throttle:Pn};function Cn(t){return new Proxy(zn,{get:function(e,n){if(e.hasOwnProperty(n)){var r=e[n];return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return r.apply(void 0,[t].concat(n))}}throw new Error("zyX().".concat(n," is not a function"))}})}dn(wn||(Mn=["\n    ph {\n        display: none;\n    }\n"],_n||(_n=Mn.slice(0)),wn=Object.freeze(Object.defineProperties(Mn,{raw:{value:Object.freeze(_n)}}))));export{Z as Deque,vt as LiveDeque,pt as LiveList,dt as LiveVar,X as WeakRefSet,He as ZyXHTML,On as breakDelayChain,An as clearDelay,dn as css,En as debounce,Cn as default,jn as delay,Sn as delayChain,Ke as html,Tn as instant,xn as isMobile,Pn as throttle,vn as zyxcss};