---
description: when creating new reactive UI components in the frontend
alwaysApply: false
---

# Zyx Framework Rules

## Imports

```javascript
import { html, css, LiveVar, LiveList } from "./@dep/zyx.js"; // Adjust path as needed
```

## Component Structure

Components are classes. The HTML template is defined in the constructor and **must** be bound to `this`.

```javascript
export default class MyComponent {
    constructor() {
        this.count = new LiveVar(0);

        this.subComponent = new SubComponent(this);

        html`
            <div class="my-component">
                <span>Count: ${this.count.interp((v) => v)}</span>
                <button zyx-click=${() => this.increment()}>Increment</button>
                ${this.subComponent}
            </div>
        `.bind(this);
    }

    increment() {
        this.count.set(this.count.get() + 1);
    }

    foo() {
        console.log("foo");
    }
}

class SubComponent {
    constructor(app) {
        this.app = app;
        this.message = new LiveVar("Hello from subclass!");

        html`
            <div class="sub-component">
                <p>${this.message.interp((v) => v)}</p>
                <button zyx-click=${() => this.updateMessage()}>Update Message</button>
            </div>
        `.bind(this);
    }

    updateMessage() {
        this.message.set("Message updated at " + new Date().toLocaleTimeString());
        this.app.foo();
    }
}
```

## HTML Directives & Attributes

### Element Binding

Bind a DOM element to a class property using `this="propertyName"`.

```javascript
html`<div this="my_element"></div>`.bind(this);
// Access the element via this.my_element
```

### Events

Use `zyx-eventname`.

-   `zyx-click=${(e) => ...}`
-   `zyx-miceenter=${(e) => ...}`
-   `zyx-miceleave=${(e) => ...}`
-   `zyx-input=${(e) => ...}`

### Conditionals (Reactive)

Use `zyx-if`, `zyx-elif`, `zyx-else`.

-   If using a predicate: `zyx-if=${[liveVar, (val) => val === true]}`
-   If boolean LiveVar: `zyx-if=${liveVar}`

```javascript
html`<div zyx-if=${[this.count, (v) => v > 5]}>High count!</div>
    <div zyx-else-if=${[this.count, (v) => v > 3]}>Medium count</div>
    <div zyx-else-if=${[this.count, (v) => v > 1]}>Low count</div>
    <div zyx-else>No count</div>`;
```

### Lists (Reactive)

Use `zyx-live-list` with an object config.

```javascript
html`<div
    zyx-live-list=${{
        list: this.myLiveList, // LiveList instance
        compose: ItemComponent, // Class or function returning html`...`
        compose: (item, index) => new ItemComponent(this, item, index), // OR, Use this pattern to pass parameters to the component
        filter: (item) => item.visible, // Optional filter
    }}
></div>`;
```

### Radio Views (Tabs)

-   Content: `zyx-radioview="namespace.viewName"`
-   Controller/Button: `zyx-radioview="namespace.viewName.open"`

## CSS

Use the `css` tagged template.

```javascript
css`
    .my-component {
        color: red;
    }
`;
```

## Reactivity (LiveVar/LiveList)

-   **Get**: `liveVar.get()` or `liveVar.value`
-   **Set**: `liveVar.set(newValue)`
-   **Interpolate in HTML**: `${liveVar.interp(val => transformedVal)}`
-   **LiveList**: Use standard array methods (`push`, `remove`, `splice`). They are reactive.
